(function(){const title=document.querySelector('.hero h1');const titleText=title.innerText.split('');title.innerText='';titleText.forEach((letter,i)=>{let newLetter=document.createElement('span');newLetter.innerText=letter;title.appendChild(newLetter);setTimeout(function(){newLetter.style.opacity=1;},i*25)})
const map=document.getElementById('map');function refreshData(){if(!document.hasFocus())return;fetch('https://shadyaddons.com/api/map').then(response=>response.json()).then(locations=>{locations.forEach(location=>{let screenX=(location.lng+180)*(100/360);let screenY=((location.lat*-1)+90)*(100/180);let point=document.createElement('img');point.src='assets/point.svg';point.classList.add('point');point.style.left=screenX+'%';point.style.top=screenY+'%';point.style.filter='invert(50%) sepia(100%) saturate(1000%) hue-rotate('+(Math.random()*360)+'deg)';point.addEventListener('animationend',()=>{point.remove();});setTimeout(()=>{map.appendChild(point);},Math.random()*10000);});});}
refreshData();setInterval(refreshData,10000);})();